## SAKI

## 日本麻将AI训练

### 麻将游戏流程

- 0.游戏初始化
- 1.每人起始手牌13张
- 2.初始当前流程者为庄家
- 3.当前流程者摸牌
- 4.当前流程者判断是否和牌
- - True -> 跳转到12
- - 若立直 -> 将摸到的牌打出并跳转到8
- - False -> continue
- 5.当前流程者判断是否暗杠
- - True -> 跳转到3
- - False -> continue
- 6.当前流程者判断是否立直
- 7.当前流程者出牌
- for n in range(1,4)
- 8.当前流程者后n位判断是否和牌
- - True -> 当前流程者转交为当前流程者后n位,跳转到12
- - False -> continue
- 9.当前流程者后n位判断是否碰牌
- - True -> 当前流程者转交为当前流程者后n位,跳转到7
- - False -> continue
- 10.当前流程者后1位判断是否吃牌
- - True -> 当前流程者转交为当前流程者后n位,跳转到7
- - False -> continue
- 11.当前流程者转交为当前流程者后1位，流程跳转到3
- 12.当前流程者和牌，计算点数
- 13.重新获得风，场次和本数
- 14.判断游戏是否结束
- - True -> continue
- - False -> 跳转到0
- 15.游戏结束

### 全局记录Message

#### 流程记录

- shape = (operation_num,24)
- m[n,m*6+op] -> 第n轮操作的第m个玩家是否做出了op操作(0->出牌(出的牌序号),1->吃(吃的第一张牌的序号),2->碰(碰的牌的序号),3->杠(杠的牌的序号),4->暗杠(暗杠的牌的序号),5->立直(立直的牌))

#### 牌桌记录

- shape = (4,4,34)
- m[m,0-3,136] -> 第m个玩家的吃牌区，碰牌区，杠牌区，弃牌区

#### 玩家记录

- shape = (136,1)
- 当前玩家的手牌区

#### 出牌判定记录

- shape = (136,1)
- 当前玩家想要出的牌